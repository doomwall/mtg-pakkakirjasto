{% extends "layout.html" %}
{% block title %}Profiili - MTG-Pakkakirjasto{% endblock %}
{% block content %}
<div class="container">
  <div class="row">
    <div class="col-12">

		<p>Moikka {{ session.username }}!</p>
		<p>Profiili on luotu: {{ create_date }}</p>
		<p>
		  <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
			Vaihda salasana
		  </button>
		</p>
		<div class="collapse" id="collapseExample">
			<div class="card card-body">
				<form action="/change_password" method="POST">
					<div class="form-group row">
						<label for="password" class="col-sm-2 col-form-label">Nykyinen salasana</label>
						<div class="col-sm-10">
						<input type="password" name="current_password" class="form-control" id="inputPassword5" aria-describedby="passwordHelpBlock"></p>
						</div>
					</div>
					<div class="form-group row">
						<label for="password" class="col-sm-2 col-form-label">Uusi salasana</label>
						<div class="col-sm-10">
						<input type="password" name="new_password" class="form-control" id="inputPassword5" aria-describedby="passwordHelpBlock"></p>
						</div>
					</div>
					
					<div class="form-group row">
						<label for="password" class="col-sm-2 col-form-label">Uusi salasana uudestaan</label>
						<div class="col-sm-10">
							<input type="password" name="new_password2" class="form-control" id="inputPassword5"></p>
							<div id="passwordHelpBlock" class="form-text">
							  Salasanan on oltava 8-20 merkkiä pitkä, sisältää kirjaimia ja numeroita, eikä saa sisältää mitään erikoismerkkejä tai välilyöntejä.
							</div>
						</div>
					</div>
					<input type="hidden" name="id" value="{{ session.id }}">
					<input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">
					<button type="submit" class="btn btn-primary">Lähetä</button>
				</form>

			</div>
		</div>
			{% if errors %}
			{% for error in errors %}
			<div class="alert alert-danger" role="alert" style="margin-top: 20px;">
				{{ error }}
			</div>
			{% endfor %}
			{% endif %}
			{% if success %}
			{% for message in success %}
			<div class="alert alert-success" role="alert" style="margin-top: 20px;">
				{{ message }}
			</div>
			{% endfor %}
			{% endif %}
	</div>
</div>
</div>
</div>
{% endblock %}